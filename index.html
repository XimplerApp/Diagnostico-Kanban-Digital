
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Diagnóstico Digital 1.2 – index.html</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px auto; max-width: 1000px; text-align: center; }
    .question { margin-bottom: 30px; padding: 10px; background: #f9f9f9; border-left: 4px solid #003366; text-align: left; margin-left: auto; margin-right: auto; max-width: 800px; }
    h1, h2, h3 { color: #003366; }
    label { display: block; margin: 4px 0; }
    button { padding: 10px 20px; font-size: 1rem; margin-top: 20px; }
    .result { margin-top: 40px; padding: 20px; background: #eef; border: 1px solid #ccc; text-align: left; margin-left: auto; margin-right: auto; max-width: 800px; }
    canvas { margin-top: 30px; }
  </style>
</head>
<body>
  <h1>Diagnóstico Digital</h1>
  <p>Responde cómo trabajan hoy (fotografía actual) y cómo te gustaría trabajar (modelo deseado). El sistema recomendará la plataforma que mejor se ajusta a tu visión futura.</p>
<div style="margin: 30px auto; max-width: 600px; text-align: left; padding: 20px; border: 1px solid #ccc; background: #f9f9f9;">
  <h3 style="color: #003366;">Información del Diagnóstico</h3>
  <label>Nombre: <input type="text" id="nombre" style="width: 100%; margin-bottom: 10px;"></label>
  <label>Área o departamento: <input type="text" id="area" style="width: 100%; margin-bottom: 10px;"></label>
  <label>Plaza o ubicación: <input type="text" id="plaza" style="width: 100%; margin-bottom: 10px;"></label>
  <label>Correo electrónico: <input type="email" id="correo" style="width: 100%; margin-bottom: 10px;"></label>
  <p><strong>Fecha y hora del diagnóstico:</strong> <span id="fechaHora"></span></p>
</div>

<script>
  const fecha = new Date();
  const f = fecha.toLocaleString();
  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("fechaHora").textContent = f;
  });
</script>

  <form id="formularioDiagnostico">
  <div class="question"><h3>1. ¿Cómo se asignan tareas?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q0a" value="0"> Por WhatsApp o correo</label><label><input type="radio" name="q0a" value="1"> Verbal</label><label><input type="radio" name="q0a" value="2"> Por plataforma sin validación</label><label><input type="radio" name="q0a" value="3"> Con plataforma con trazabilidad, rol y objetivo</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q0b" value="0"> Por WhatsApp o correo</label><label><input type="radio" name="q0b" value="1"> Verbal</label><label><input type="radio" name="q0b" value="2"> Por plataforma sin validación</label><label><input type="radio" name="q0b" value="3"> Con plataforma con trazabilidad y objetivos claros</label></div><div class="question"><h3>2. ¿Cómo se da seguimiento?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q1a" value="0"> Se pregunta personalmente</label><label><input type="radio" name="q1a" value="1"> En correos, chats o reuniones</label><label><input type="radio" name="q1a" value="2"> Mediante sistema de listas o paneles</label><label><input type="radio" name="q1a" value="3"> En tablero con seguimiento automático</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q1b" value="0"> Preguntando personalmente</label><label><input type="radio" name="q1b" value="1"> En correos, chats o reuniones</label><label><input type="radio" name="q1b" value="2"> Mediante sistema de listas o paneles</label><label><input type="radio" name="q1b" value="3"> En tablero visual con seguimiento automático</label></div><div class="question"><h3>3. ¿Cómo se visualiza el flujo?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q2a" value="0"> No se visualiza</label><label><input type="radio" name="q2a" value="1"> Correos sin estatus</label><label><input type="radio" name="q2a" value="2"> Flujo por fases en tablero</label><label><input type="radio" name="q2a" value="3"> Flujo con cuellos de botella visibles</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q2b" value="0"> No me importa si se visualiza</label><label><input type="radio" name="q2b" value="1"> Correo sin estatus</label><label><input type="radio" name="q2b" value="2"> Flujo por fases en tablero</label><label><input type="radio" name="q2b" value="3"> Flujo con estatus, semáforos y cuellos de botella visibles</label></div><div class="question"><h3>4. ¿Quién cierra las tareas?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q3a" value="0"> Nadie formalmente</label><label><input type="radio" name="q3a" value="1"> El mismo que la ejecuta pero de manera informal</label><label><input type="radio" name="q3a" value="2"> El jefe o supervisor de manera formal</label><label><input type="radio" name="q3a" value="3"> Con sistema que exige validación formal</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q3b" value="0"> Nadie formalmente</label><label><input type="radio" name="q3b" value="1"> El mismo que la ejecuta con un correo o mensaje</label><label><input type="radio" name="q3b" value="2"> El jefe o supervisor que lo valide</label><label><input type="radio" name="q3b" value="3"> Con sistema que valide automaticamente</label></div><div class="question"><h3>5. ¿Qué tan visibles son los objetivos?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q4a" value="0"> No hay claridad</label><label><input type="radio" name="q4a" value="1"> Tenemos una idea</label><label><input type="radio" name="q4a" value="2"> Visibles en documentos o reuniones</label><label><input type="radio" name="q4a" value="3"> Hay comunicación y transparencia</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q4b" value="0"> No me afecta la claridad</label><label><input type="radio" name="q4b" value="1"> Tener una idea</label><label><input type="radio" name="q4b" value="2"> Visibles en documentos y reuniones</label><label><input type="radio" name="q4b" value="3"> Con comunicación y transparencia</label></div><div class="question"><h3>6. ¿Cómo priorizan tareas?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q5a" value="0"> Por urgencia o presión</label><label><input type="radio" name="q5a" value="1"> Según intuición, correos o WhatsApp</label><label><input type="radio" name="q5a" value="2"> Con fechas claras asignadas</label><label><input type="radio" name="q5a" value="3"> Con fechas, semáforos y estatus automáticos</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q5b" value="0"> Por urgencia o presión</label><label><input type="radio" name="q5b" value="1"> Según correo, intuición o WhatsApp</label><label><input type="radio" name="q5b" value="2"> Con fechas asignadas</label><label><input type="radio" name="q5b" value="3"> Con fechas, semáforos y estatus automáticos</label></div><div class="question"><h3>7. ¿Quién detecta estancamientos?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q6a" value="0"> Nadie los detecta</label><label><input type="radio" name="q6a" value="1"> Se detectan cuando ya es tarde</label><label><input type="radio" name="q6a" value="2"> Por supervisión manual y directa</label><label><input type="radio" name="q6a" value="3"> El sistema alerta automáticamente</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q6b" value="0"> Que nadie los detecte</label><label><input type="radio" name="q6b" value="1"> Por correo manual cuando se vayan a vencer</label><label><input type="radio" name="q6b" value="2"> Por supervisión directa del jefe</label><label><input type="radio" name="q6b" value="3"> Que el sistema alerte automáticamente</label></div><div class="question"><h3>8. ¿Qué tan frecuente quedan tareas sin cerrar?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q7a" value="0"> Muy frecuente</label><label><input type="radio" name="q7a" value="1"> Ocasional</label><label><input type="radio" name="q7a" value="2"> Rara vez</label><label><input type="radio" name="q7a" value="3"> Nunca, todo se valida en sistema</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q7b" value="0"> No me afecta si no se cierran</label><label><input type="radio" name="q7b" value="1"> Por lo menos de manera informal</label><label><input type="radio" name="q7b" value="2"> De manera formal aunque sea por correo</label><label><input type="radio" name="q7b" value="3"> Que todo se valide y cierre por sistema automaticamente</label></div><div class="question"><h3>9. ¿Qué tan frecuente es el retrabajo?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q8a" value="0"> Muy común</label><label><input type="radio" name="q8a" value="1"> Pasa regularmente</label><label><input type="radio" name="q8a" value="2"> Raro</label><label><input type="radio" name="q8a" value="3"> Muy raro, las instrucciones son claras</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q8b" value="0"> No me afecta</label><label><input type="radio" name="q8b" value="1"> No hay problema si pasa regularmente</label><label><input type="radio" name="q8b" value="2"> Que sea muy de vez en cuando pero que me contesten dudas</label><label><input type="radio" name="q8b" value="3"> Muy raro, que haya instrucciones claras y retroalimentación inmediata</label></div><div class="question"><h3>10. ¿Dónde están las instrucciones?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q9a" value="0"> Cada quien lo hace "como puede"</label><label><input type="radio" name="q9a" value="1"> En correos o mensajes sueltos</label><label><input type="radio" name="q9a" value="2"> En documentos compartidos</label><label><input type="radio" name="q9a" value="3"> En un sistema digital centralizado, fácil de consultar y actualizado</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q9b" value="0"> En correos o mensajes sueltos</label><label><input type="radio" name="q9b" value="1"> En tarjetas o notas compartidas</label><label><input type="radio" name="q9b" value="2"> En documentos compartidos y organizados por procesos</label><label><input type="radio" name="q9b" value="3"> En un sistema digital centralizado, fácil de consultar y actualizado</label></div><div class="question"><h3>11. ¿Cómo se mide el avance de tareas o pendientes?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q10a" value="0"> No se mide</label><label><input type="radio" name="q10a" value="1"> Se reporta manualmente</label><label><input type="radio" name="q10a" value="2"> Por entregables visibles</label><label><input type="radio" name="q10a" value="3"> Con indicadores automáticos</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q10b" value="0"> No afecta si no se mide</label><label><input type="radio" name="q10b" value="1"> Con reportes manuales o por correo</label><label><input type="radio" name="q10b" value="2"> Por entregables con confirmación</label><label><input type="radio" name="q10b" value="3"> Con indicadores automáticos</label></div><div class="question"><h3>12. ¿Quién valida que esté completa la solicitud?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q11a" value="0"> Nadie formalmente</label><label><input type="radio" name="q11a" value="1"> Lo hace quien lo ejecuta a veces</label><label><input type="radio" name="q11a" value="2"> El jefe valida</label><label><input type="radio" name="q11a" value="3"> Sistema con validación formal del solicitante</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q11b" value="0"> No afecta si no se valida</label><label><input type="radio" name="q11b" value="1"> Que lo haga por correo quien lo ejecuta</label><label><input type="radio" name="q11b" value="2"> Que el jefe valide</label><label><input type="radio" name="q11b" value="3"> Sistema con validación formal del solicitante</label></div><div class="question"><h3>13. ¿Qué tan automatizado está el trabajo?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q12a" value="0"> Nada automatizado</label><label><input type="radio" name="q12a" value="1"> Se usan recordatorios manuales por correos</label><label><input type="radio" name="q12a" value="2"> Recordatorios semi automáticos</label><label><input type="radio" name="q12a" value="3"> Automatización simple y útil</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q12b" value="0"> Nada automatizado</label><label><input type="radio" name="q12b" value="1"> Con recordatorios manuales por correos y mensajes</label><label><input type="radio" name="q12b" value="2"> Con recordatorios semi automáticos</label><label><input type="radio" name="q12b" value="3"> Con automatización simple y útil</label></div><div class="question"><h3>14. ¿Dónde gestionan tareas repetitivas?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q13a" value="0"> Desde cero cada vez</label><label><input type="radio" name="q13a" value="1"> Copiando y pegando</label><label><input type="radio" name="q13a" value="2"> Con plantillas</label><label><input type="radio" name="q13a" value="3"> Con flujos recurrentes definidos</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q13b" value="0"> Desde cero cada vez</label><label><input type="radio" name="q13b" value="1"> Copiando y pegando</label><label><input type="radio" name="q13b" value="2"> Con plantillas</label><label><input type="radio" name="q13b" value="3"> Con flujos recurrentes definidos</label></div><div class="question"><h3>15. ¿Qué tan claro es el impacto de cada tarea?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q14a" value="0"> Solo cumplo</label><label><input type="radio" name="q14a" value="1"> Hago muchas tareas por rutina</label><label><input type="radio" name="q14a" value="2"> A veces está bien definido</label><label><input type="radio" name="q14a" value="3"> Son claros los resultados esperados</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q14b" value="0"> Seguir cumpliendo a destajo</label><label><input type="radio" name="q14b" value="1"> Tener una rutina</label><label><input type="radio" name="q14b" value="2"> Que esten bien definidos</label><label><input type="radio" name="q14b" value="3"> Con resultados esperados claros</label></div><div class="question"><h3>16. ¿Cuántas tareas tiene cada persona abiertas en cualquier momento?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q15a" value="0"> No se sabe</label><label><input type="radio" name="q15a" value="1"> Hay que preguntar</label><label><input type="radio" name="q15a" value="2"> En juntas o reuniones</label><label><input type="radio" name="q15a" value="3"> Visibles en sistema en tiempo real</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q15b" value="0"> Que cada quien informe manualmente</label><label><input type="radio" name="q15b" value="1"> En juntas y reuniones</label><label><input type="radio" name="q15b" value="2"> En tableros compartidos</label><label><input type="radio" name="q15b" value="3"> Visibles en sistema en tiempo real</label></div><div class="question"><h3>17. ¿Se trabaja por urgencia o ritmo?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q16a" value="0"> Urgencia constante</label><label><input type="radio" name="q16a" value="1"> Mixto con caos</label><label><input type="radio" name="q16a" value="2"> Con plazos en correos</label><label><input type="radio" name="q16a" value="3"> Con plazos y prioridad</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q16b" value="0"> Urgencia clara</label><label><input type="radio" name="q16b" value="1"> Mixto con cierta organización</label><label><input type="radio" name="q16b" value="2"> Con plazos compartidos</label><label><input type="radio" name="q16b" value="3"> Con plazos y prioridad mixta por urgencia y pimeras entradas</label></div><div class="question"><h3>18. ¿Cómo se asignan responsables?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q17a" value="0"> De manera informal</label><label><input type="radio" name="q17a" value="1"> En correo o chat</label><label><input type="radio" name="q17a" value="2"> Asignados en sistema</label><label><input type="radio" name="q17a" value="3"> Asignados y con seguimiento automático en sistema</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q17b" value="0"> De manera formal en correos</label><label><input type="radio" name="q17b" value="1"> Formal en reuniones</label><label><input type="radio" name="q17b" value="2"> Asignados en sistema</label><label><input type="radio" name="q17b" value="3"> Asignados con seguimiento automático en sistema</label></div><div class="question"><h3>19. ¿Qué tanto se mide el resultado?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q18a" value="0"> No se mide</label><label><input type="radio" name="q18a" value="1"> Se reporta al final del mes</label><label><input type="radio" name="q18a" value="2"> Parcial por compromisos entregables</label><label><input type="radio" name="q18a" value="3"> Por cuplimiento automático de compromisos y trazabilidad</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q18b" value="0"> Que se mida al menos lo mínimo</label><label><input type="radio" name="q18b" value="1"> Con reportes al final del mes</label><label><input type="radio" name="q18b" value="2"> Por compromisos de entregables</label><label><input type="radio" name="q18b" value="3"> Por cuplimiento automático de compromisos y trazabilidad</label></div><div class="question"><h3>20. ¿Qué tan transparente es la ejecución?</h3><strong>A) ¿Cómo lo hacen hoy?</strong><label><input type="radio" name="q19a" value="0"> Solo el jefe sabe</label><label><input type="radio" name="q19a" value="1"> Se comenta en reuniones</label><label><input type="radio" name="q19a" value="2"> Con visibilidad con correos de compañeros</label><label><input type="radio" name="q19a" value="3"> Todo es visible en tablero colaborativo</label><br><strong>B) ¿Cómo te gustaría hacerlo?</strong><label><input type="radio" name="q19b" value="0"> Que el jefe esté enterado</label><label><input type="radio" name="q19b" value="1"> Con seguimiento claro en reuniones</label><label><input type="radio" name="q19b" value="2"> Con visibilidad compartida</label><label><input type="radio" name="q19b" value="3"> Que todo sea visible en tablero colaborativo en tiempo real</label></div>
  </form>
  
<div class="question"><h3>21. ¿Qué tanta formalidad queda después de una reunión?</h3><strong>A) ¿Cómo lo hacen hoy?</strong>
<label><input type="radio" name="q20a" value="0"> Nada formal. Solo fue conversación</label>
<label><input type="radio" name="q20a" value="1"> Alguien toma nota, pero no se formaliza el seguimiento</label>
<label><input type="radio" name="q20a" value="2"> Se asignan tareas por mensaje o correo</label>
<label><input type="radio" name="q20a" value="3"> Se generan compromisos con responsables, validadores y fecha de cierre</label>
<br><strong>B) ¿Cómo te gustaría hacerlo?</strong>
<label><input type="radio" name="q20b" value="0"> Con algo de claridad para el seguimiento</label>
<label><input type="radio" name="q20b" value="1"> Alguien toma nota, y se formalice para la siguiente reunión</label>
<label><input type="radio" name="q20b" value="2"> Se asignan tareas por mensaje o correo y se da seguimiento por el encargado</label>
<label><input type="radio" name="q20b" value="3"> Con compromisos y seguimiento automático de responsables, involucrados y fechas de cierre</label>
</div>

<div class="question"><h3>22. ¿Cómo sabes que alguien ya terminó una tarea?</h3><strong>A) ¿Cómo lo hacen hoy?</strong>
<label><input type="radio" name="q21a" value="0"> No me entero hasta que pregunto</label>
<label><input type="radio" name="q21a" value="1"> Me lo comentan en una junta o chat</label>
<label><input type="radio" name="q21a" value="2"> Me mandan un mensaje o correo</label>
<label><input type="radio" name="q21a" value="3"> El sistema actualiza el estatus y lo valida automáticamente</label>
<br><strong>B) ¿Cómo te gustaría hacerlo?</strong>
<label><input type="radio" name="q21b" value="0"> De inmediato cuando pregunte</label>
<label><input type="radio" name="q21b" value="1"> Con reportes constantes por correos programados</label>
<label><input type="radio" name="q21b" value="2"> Con tableros compartidos</label>
<label><input type="radio" name="q21b" value="3"> El sistema actualiza el estatus en tiempo real y lo valida automáticamente</label>
</div>

<div class="question"><h3>23. ¿Qué tan fácil es detectar tareas obsoletas o sin sentido?</h3><strong>A) ¿Cómo lo hacen hoy?</strong>
<label><input type="radio" name="q22a" value="0"> No se detectan. Todo sigue activo</label>
<label><input type="radio" name="q22a" value="1"> Solo cuando alguien lo nota</label>
<label><input type="radio" name="q22a" value="2"> A veces se hace limpieza manual</label>
<label><input type="radio" name="q22a" value="3"> El sistema muestra tareas estancadas o sin avance</label>
<br><strong>B) ¿Cómo te gustaría hacerlo?</strong>
<label><input type="radio" name="q22b" value="0"> Con reportes constantes</label>
<label><input type="radio" name="q22b" value="1"> Con reuniones prácticas </label>
<label><input type="radio" name="q22b" value="2"> Con tableros compartidos</label>
<label><input type="radio" name="q22b" value="3"> El sistema muestra en tiempo real tareas estancadas o sin avance</label>
</div>

<div class="question"><h3>24. ¿Qué pasa si otra área se tarda en validar o responder?</h3><strong>A) ¿Cómo lo hacen hoy?</strong>
<label><input type="radio" name="q23a" value="0"> Nadie se entera</label>
<label><input type="radio" name="q23a" value="1"> Lo preguntamos por mensaje o llamada</label>
<label><input type="radio" name="q23a" value="2"> Hay seguimiento manual</label>
<label><input type="radio" name="q23a" value="3"> El sistema muestra dependencias y cuellos de botella</label>
<br><strong>B) ¿Cómo te gustaría hacerlo?</strong>
<label><input type="radio" name="q23b" value="0"> Con recordatorios</label>
<label><input type="radio" name="q23b" value="1"> Con correo, mensaje o llamada</label>
<label><input type="radio" name="q23b" value="2"> Con semáforos</label>
<label><input type="radio" name="q23b" value="3"> El sistema muestra dependencias y cuellos de botella</label>
</div>

<div class="question"><h3>25. ¿Qué tan clara es la relación entre tiempo invertido y resultados?</h3><strong>A) ¿Cómo lo hacen hoy?</strong>
<label><input type="radio" name="q24a" value="0"> No se mide</label>
<label><input type="radio" name="q24a" value="1"> Se intuye</label>
<label><input type="radio" name="q24a" value="2"> Se mide por entregables cumplidos</label>
<label><input type="radio" name="q24a" value="3"> Se mide con indicadores automatizados</label>
<br><strong>B) ¿Cómo te gustaría medirlo?</strong>
<label><input type="radio" name="q24b" value="0"> Por evaluación de equipos</label>
<label><input type="radio" name="q24b" value="1"> Por evaluación del jefe</label>
<label><input type="radio" name="q24b" value="2"> Con entregables claros cumplidos</label>
<label><input type="radio" name="q24b" value="3"> Con indicadores automatizados</label>
</div>

<button id="botonCalcular" onclick="calcularRecomendacion()" disabled>Calcular Recomendación</button>
<p style="font-size: 0.9rem; color: #666;">El botón se habilitará cuando respondas, al menos, todas las preguntas de la sección B.</p>
  <div id="exportable"><div id="resultado" class="result"></div>

  </div><canvas id="graficaResultado" width="600" height="400"></canvas>
<button onclick="exportarPDF()" style="margin-top: 20px;">📄 Exportar Resultado en PDF</button>


<script>
function calcularRecomendacion() {
  const puntajes = { Trello: 0, Asana: 0, Monday: 0, Ximpler: 0 };
  const total = 25;
  for (let i = 0; i < total; i++) {
    const val = document.querySelector(`input[name='q${i}b']:checked`);
    if (val) {
      const idx = parseInt(val.value);
      if (idx === 0) puntajes.Trello += 1;
      else if (idx === 1) puntajes.Asana += 1;
      else if (idx === 2) { puntajes.Monday += 1; puntajes.Ximpler += 0.5; }
      else if (idx === 3) puntajes.Ximpler += 1;
    }
  }
  const maxTool = Object.entries(puntajes).reduce((a, b) => b[1] >= a[1] ? b : a)[0];
  const res = document.getElementById("resultado");
  res.innerHTML = `<h2>Herramienta Recomendada: ${maxTool}</h2><ul>
  <li><strong>Trello:</strong> Flujos simples o visuales sin trazabilidad.</li>
  <li><strong>Asana:</strong> Gestión ligera con enfoque en tareas individuales.</li>
  <li><strong>Monday:</strong> Visual, automatizable, útil si ya tienes procesos.</li>
  <li><strong>Ximpler:</strong> Plataforma de trazabilidad, control y eficiencia real.</li></ul>`;

  const ctx = document.getElementById("graficaResultado").getContext("2d");
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: Object.keys(puntajes),
      datasets: [{
        label: 'Puntaje total',
        data: Object.values(puntajes),
        backgroundColor: ['#bbb', '#f90', '#09f', '#2c7']
      }]
    },
    options: { responsive: true, scales: { y: { beginAtZero: true } } }
  });
}
</script>

<script>
  const totalPreguntasB = 25;
  const boton = document.getElementById("botonCalcular");

  function verificarRespuestasB() {
    let completas = 0;
    for (let i = 0; i < totalPreguntasB; i++) {
      if (document.querySelector(`input[name='q${i}b']:checked`)) {
        completas++;
      }
    }
    boton.disabled = completas < totalPreguntasB;
  }

  // Escucha todos los cambios en inputs tipo B
  document.querySelectorAll("input[type=radio]").forEach(input => {
    if (input.name.endsWith("b")) {
      input.addEventListener("change", verificarRespuestasB);
    }
  });

  // Verifica una vez al cargar
  document.addEventListener("DOMContentLoaded", verificarRespuestasB);
</script>


<!-- Librería html2pdf.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
function exportarPDF() {
  const element = document.getElementById("exportable");
  const opt = {
    margin:       0.5,
    filename:     'diagnostico_resultado.pdf',
    image:        { type: 'jpeg', quality: 0.98 },
    html2canvas:  { scale: 2 },
    jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
  };
  html2pdf().set(opt).from(element).save();
}
</script>

</body>
</html>


<script>
function OLD_exportarPDF() {
  const element = document.getElementById("resultado");
  const opt = {
    margin:       0.5,
    filename:     'diagnostico_resultado.pdf',
    image:        { type: 'jpeg', quality: 0.98 },
    html2canvas:  { scale: 2 },
    jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
  };
  html2pdf().set(opt).from(element).save();
}
</script>


<script>
function OLD_exportarPDF() {
  const element = document.getElementById("exportable");
  setTimeout(() => {
    html2pdf().set({
      margin: 0.5,
      filename: 'diagnostico_resultado.pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2 },
      jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
    }).from(element).save();
  }, 500);
}
</script>

<script>
function exportarPDF() {
  setTimeout(() => {
    window.print();
  }, 500);
}
</script>
